---
layout: post
title: ! 'C#: What the dag is boxing?'
tags:
- .NET
- C#
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _yoast_wpseo_focuskw: ''
  _yoast_wpseo_title: ''
  _yoast_wpseo_metadesc: ''
  _yoast_wpseo_meta-robots-noindex: '0'
  _yoast_wpseo_meta-robots-nofollow: '0'
  _yoast_wpseo_meta-robots-adv: none
  _yoast_wpseo_sitemap-include: ! '-'
  _yoast_wpseo_sitemap-prio: ! '-'
  _yoast_wpseo_canonical: ''
  _yoast_wpseo_redirect: ''
  _thumbnail_id: '1220'
  _wp_old_slug: c-what-the-dag-is-boxing
---
I was recently asked to explain what boxing in C# is. Well I couldn't give an answer on the spot so here I am reporting my findings. It is a pretty simple concept, and one that is probably used a lot without realizing it. According to <a href="http://msdn.microsoft.com/en-us/library/yz2be5wk.aspx" target="_blank">MSDN</a>: "The concept of boxing and unboxing underlies the C# unified view of the type system, in which a value of any type can be treated as an object."

<h4>Boxing is implicit</h4>
This really looks like assigning a value object to a System.Object. This shows <code>int i</code> being boxed and assigned to an object:

<pre class="prettyprint">
int i = 123;
object o = i;
</pre>

<h4>Unboxing is explicit</h4>
To you PHP kiddies out there, this may look familiar to you type casters.

Here we have the <code>object o</code> assigned our value object. We "unbox" our <code>System.Object</code> and assign it to our <code>int</code>

<pre class="prettyprint">
o = 123;
i = (int)o;
</pre>

<h4>What is the big deal?</h4>
This has a lot of applications that can creep up (essentially anytime you may need to treat one value type as another), but to me it seems to have its greatest application in collections of mixed objects.

<pre class="prettyprint">
List&lt;object&gt; mixedList = new List&lt;object&gt;();
mixedList.Add("String");
for (int j = 5; j &lt; 10; j++)
{
    mixedList.Add(j);
}

//use C#'s dynamic powers to iterate. we use the keyword 'var' below so that the compiler gets to decided the type
for (var item in mixedList)
{
    Console.WriteLine(item);
}
</pre>

This is pretty transparent in a dynamic language like PHP where types are used freely all the time (i.e "5" + 5 = 10). C# enables this same kind of juggling with it's concept of bugging.

One final note:
Our friends at Microsoft have this little tidbit to say about boxing and its performance implications:
<blockquote class="superquote">
In relation to simple assignments, boxing and unboxing are computationally expensive processes. When a value type is boxed, a new object must be allocated and constructed. To a lesser degree, the cast required for unboxing is also expensive computationally.
</blockquote>

Now move forward confidently, knowing you can answer the question: "What is boxing?".
