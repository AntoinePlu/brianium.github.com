<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>C#: What the dag is boxing?</title>
	<meta name="description" content="I enjoy programming stuff - up to and including things!">
	<meta name="author" content="Brian Scaturro">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href='http://fonts.googleapis.com/css?family=Anton' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/css/base.css">
	<link rel="stylesheet" href="/css/skeleton.css">
	<link rel="stylesheet" href="/css/layout.css">
	<link rel="stylesheet" href="/css/pygments.css">
	<link rel="shortcut icon" href="/images/favicon.ico">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>	
<body>
	<div class="container">
		<div class="eleven columns alpha">
			<header id="branding">
				<a href="/">
					<div class="site-heading">Brian Scaturro</div>
					<div class="site-subheading">Fancy a dance?</div>
				</a>
			</header>
			<div id="main" role="main">
				<article class="eleven columns alpha">
					<h1>C#: What the dag is boxing?<span class="post-date">28 Dec 2011</span></h1>
					I was recently asked to explain what boxing in C# is. Well I couldn't give an answer on the spot so here I am reporting my findings. It is a pretty simple concept, and one that is probably used a lot without realizing it. According to <a href="http://msdn.microsoft.com/en-us/library/yz2be5wk.aspx" target="_blank">MSDN</a>: "The concept of boxing and unboxing underlies the C# unified view of the type system, in which a value of any type can be treated as an object."

<h4>Boxing is implicit</h4>
This really looks like assigning a value object to a System.Object. This shows <code>int i</code> being boxed and assigned to an object:

<pre class="prettyprint">
int i = 123;
object o = i;
</pre>

<h4>Unboxing is explicit</h4>
To you PHP kiddies out there, this may look familiar to you type casters.

Here we have the <code>object o</code> assigned our value object. We "unbox" our <code>System.Object</code> and assign it to our <code>int</code>

<pre class="prettyprint">
o = 123;
i = (int)o;
</pre>

<h4>What is the big deal?</h4>
This has a lot of applications that can creep up (essentially anytime you may need to treat one value type as another), but to me it seems to have its greatest application in collections of mixed objects.

<pre class="prettyprint">
List&lt;object&gt; mixedList = new List&lt;object&gt;();
mixedList.Add("String");
for (int j = 5; j &lt; 10; j++)
{
    mixedList.Add(j);
}

//use C#'s dynamic powers to iterate. we use the keyword 'var' below so that the compiler gets to decided the type
for (var item in mixedList)
{
    Console.WriteLine(item);
}
</pre>

This is pretty transparent in a dynamic language like PHP where types are used freely all the time (i.e "5" + 5 = 10). C# enables this same kind of juggling with it's concept of bugging.

One final note:
Our friends at Microsoft have this little tidbit to say about boxing and its performance implications:
<blockquote class="superquote">
In relation to simple assignments, boxing and unboxing are computationally expensive processes. When a value type is boxed, a new object must be allocated and constructed. To a lesser degree, the cast required for unboxing is also expensive computationally.
</blockquote>

Now move forward confidently, knowing you can answer the question: "What is boxing?".

				</article>
			</div>
		</div>
		<aside class="four columns omega offset-by-one" id="sidebar">
			<img class="add-bottom photo" src="/images/steed.jpg" alt="some of my best thinking occurs on unicorns">
			<h2 class="sub-heading">Recent Posts</h2>
			<ul class='posts'>
				
				<li><h3><a href="/2012/05/21/domain-driven-php.html">Domain Driven PHP</a></h3></li>
				
				<li><h3><a href="/2012/04/27/is-agile-dead.html">Is Agile Dead?</a></h3></li>
				
				<li><h3><a href="/2012/03/27/tdd-with-mock-objects-and-phpunit.html">TDD With Mock Objects And PHPUnit</a></h3></li>
				
				<li><h3><a href="/2012/03/10/javascript-masterclass-review.html">JavaScript Masterclass With Thomas Fuchs and Amy Hoy: A Review</a></h3></li>
				
				<li><h3><a href="/">The rest....</a></h3></li>
			</ul>
		</aside>
	</div>
</body>
</html>